<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Silhouette Lores - Gallery</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    document.addEventListener('contextmenu', event => event.preventDefault());
    document.addEventListener('dragstart', event => event.preventDefault());
  </script>
</head>
<body>



  <header class="site-header">
  <div class="header-flex">
    <img src="Logo_v4.png" alt="Silhouette Lores Logo" class="site-logo-block" draggable="false" />
    
    <div class="header-text">
      <h1 class="site-title">Silhouette Lores</h1>
      <p>
        Ping Me: 
        <a href="https://www.instagram.com/silhouettelores/" target="_blank" class="link">@silhouettelores</a> |
        <a href="mailto:bineet.photography@gmail.com" class="link">bineet.photography@gmail.com</a>
      </p>
      <p>Love what you see? Reach out to make it yours.</p>
      <p>All photos &copy; <a href="https://www.instagram.com/ghoshbineet/" target="_blank" class="link">Bineet Ghosh</a>. All rights reserved.</p>
      <nav class="top-menu">
        <a href="index.html" class="nav-link">Home</a>
        <a href="archive.html" target="_blank" class="nav-link">Archive</a>
      </nav>

    </div>
  </div>
</header>




  

  <section id="gallery"></section>

  <footer>
    <p>Follow on <a href="https://www.instagram.com/silhouettelores/" target="_blank">Instagram</a></p>
    <p>Contact: <a href="mailto:bineet.photography@gmail.com">bineet.photography@gmail.com</a></p>

    
  </footer>
  



 <!--
 

 
 -->
  





<script>
  const data = [
  
  { urls: [
"https://i.postimg.cc/W1cLmpWZ/Built-by-Time-1.jpg",
"https://i.postimg.cc/Mp0k9kNm/Built-by-Time-3.jpg",
"https://i.postimg.cc/htRW84y9/bd3629d2-b6ec-4cf7-a46b-2f9a669ab416.jpg",
"https://i.postimg.cc/2Sdp0pMn/Built-by-Time-2.jpg",
"https://i.postimg.cc/fbMGF2Qr/Built-by-Time-4.jpg",
], heading: "Built by Time", caption: "Time doesn’t move here — it layers.", price: "Ping Me!", visibleFrom: "2025-11-28"},


  { url: "https://i.postimg.cc/L8FKk4C1/A-Mother.jpg", heading: "A Mother", caption: "A mother always finds sweetness, even in the wild.", price: "Ping Me!", visibleFrom: "2025-11-26" },

  { url: "https://i.postimg.cc/mgWf3ZXP/A-Man.jpg", heading: "A Man", caption: "A story in sweat and silence.", price: "Ping Me!", visibleFrom: "2025-11-23" },


  { url: "https://i.postimg.cc/4yPsJ8B6/The-Quiet-Home.jpg", heading: "The Quiet Home", caption: "A home where peace resides and nature whispers its timeless tales.", price: "Ping Me!", visibleFrom: "2025-11-21" },

  { url: "https://i.postimg.cc/PJTdnGzf/Standing-Tall.jpg", heading: "Standing Tall", caption: "Alone, it stands tall - undaunted by the storm. The tree teaches: walk your path alone.", price: "Ping Me!", visibleFrom: "2025-11-19" },

  { url: "https://i.postimg.cc/G20czT4y/The-River-that-Took-the-Sun-Away.jpg", heading: "The River that Took the Sun Away", caption: "I stood still, watching the river carry the sunset away.", price: "Ping Me!", visibleFrom: "2025-11-16" },

  { url: "https://i.postimg.cc/0Nqpzd2Q/Door-org.jpg", heading: "Where Curiosity Knocks", caption: "Where knowledge rests behind quiet doors, and curiosity holds the key.", price: "Ping Me!", visibleFrom: "2025-11-14" },
 

  { url: "https://i.postimg.cc/g2qtQqhs/Blurry.jpg", heading: "Blurry", caption: "A blurry world beyond the glass — like a memory not ready to fade.", price: "Ping Me!", visibleFrom: "2025-11-7" },
  
  { urls: [
  "https://i.postimg.cc/xdmJSMxM/The-River-of-Time.png",
  "https://i.postimg.cc/FKSdQ3Wk/The-River-of-Time-2.png"
  ], heading: "The River of Time", caption: "Boat of life. River of time. Silence as company.", price: "Ping Me!", visibleFrom: "2025-11-5"},
  
  { urls: [
  "https://i.postimg.cc/dVpkX4Bc/The-River-of-Life.jpg",
  "https://i.postimg.cc/K8wkVJNc/The-River-of-Life-2.jpg"
  ], heading: "The River of Life", caption: "The river flows like life — uncertain, endless, and beautifully alone.", price: "Ping Me!", visibleFrom: "2025-11-2" },


  { url: "https://i.postimg.cc/gk3S8qhf/Answered-Without-Words.png", heading: "Answered Without Words", caption: "I came with questions, left with calm.", price: "Ping Me!", visibleFrom: "2025-10-31" },

  { url: "https://i.postimg.cc/Wb0Wg6ZB/Beyond-the-Door.png", heading: "Beyond the Door", caption: "The door shuts softly, but devotion stays awake.", price: "Ping Me!", visibleFrom: "2025-10-29" },

  { url: "https://i.postimg.cc/jdygPQN0/Eternal-Flame.png", heading: "Eternal Flame", caption: "The fire keeps burning, like faith that never fades.", price: "Ping Me!", visibleFrom: "2025-10-26" },


  
  
  { url: "https://i.postimg.cc/8zVnZn7s/Serene.jpg", heading: "Serene", caption: "Where life is simple, hearts are full, and beauty speaks in silence.", price: "Ping Me!", visibleFrom: "2025-10-24" }, 
  
  
  { url: "https://i.postimg.cc/sxfJTb84/d6f170e3-ff08-4185-b26d-e91d3827452e.jpg", heading: "The Old Guardian", caption: "The old tree stands as a Guardian of History — of the stories the Monuments hold.", price: "Ping Me!" },
  
  
  { url: "https://i.postimg.cc/sgMTdd2M/283fa09f-851b-4909-81ef-a6e254cd9ed1.jpg", heading: "In The Shadow of History", caption: "Finding peace in the Shadow of History, while looking ahead to the Modern.", price: "Ping Me!" },
  
  { url: "https://i.postimg.cc/XvhWxKfv/Bengal.jpg", heading: "Bengal", caption: "Where even silence speaks in poetry, and every soul carries art.", price: "Ping Me!" },
  
  { url: "https://i.postimg.cc/MHZY9g4y/5443fc88-4322-4470-affb-a7f7a72440e5.jpg", heading: "The Wheel of Life", caption: "As the sugarcane wheel spins, it presses sweetness for the city, and keeps the life of the spinner going.", price: "Ping Me!" },

  { url: "https://i.postimg.cc/fTLwJ30x/c6bc33b4-2768-4ae1-bb04-ba4152c2758a.jpg", heading: "Echoes of Jorasanko", caption: "A doorway to timelessness — Jorasanko whispers still.", price: "Ping Me!"},
  
  { url: "https://i.postimg.cc/wTMzdkYp/City-Lights.jpg", heading: "Reflections of The City", caption: "Tallest towers, timeless culture—Kolkata reflected in Nandan’s yard.", price: "Ping Me!" },
  
  { url: "https://i.postimg.cc/mkk6nKTf/Thakurbari.jpg", heading: "Thakurbari", caption: "The halls of Thakurbari still echo Tagore’s verses, soft as morning light.", price: "Ping Me!" },

  


{
  urls: [
    "https://i.postimg.cc/g0yBb7gv/6d5fec7f-9de4-4dc8-a1a9-8e32456cfd9c.jpg",
    "https://i.postimg.cc/pT02LnCB/6fc79a78-9746-4852-96d5-15f96926b00b.jpg",
    "https://i.postimg.cc/j2ynwNsY/064d0a97-e289-45b2-933f-25d736a961d7.jpg",
    "https://i.postimg.cc/mDvFgVW3/9bd46683-4a6e-4aef-9c24-530724f674fe.jpg",
    "https://i.postimg.cc/50WgF2xH/9c199cdd-308c-4f6b-94a9-669a1eaf1543.jpg",
    "https://i.postimg.cc/L5HVNQYw/b4eb3dd7-4cb6-4d9c-b756-dec6534d4ab8.jpg",
    "https://i.postimg.cc/NGSw7JYk/2bcb59be-65ff-4766-8a15-05ae53a850d8.jpg",
    "https://i.postimg.cc/9XKjt8VN/c356c8d4-019c-41b2-99a5-c4664d42132a.jpg",
    "https://i.ibb.co/gFTszvSR/47c5b3cf-df66-41ee-b416-fa88c61e180d.jpg",
    "https://i.ibb.co/3mxG8W1p/8328c2c1-9b0f-4beb-9852-75483f0b7fcf.jpg",
    "https://i.ibb.co/4qJtV4H/4652932f-cd02-4fa1-a187-3ba1613981bf.jpg",
    "https://i.ibb.co/kgk5k62y/31602251-31ce-468f-8f79-27ffe0330689.jpg",
    "https://i.ibb.co/4w8h202b/ca06da8c-8d70-4b3e-866c-0c01b54dbc1b.jpg",
    "https://i.postimg.cc/pTWfRxPN/Sep25-e.jpg",
    "https://i.postimg.cc/bYFxcKMM/Sep19-e.jpg"
  ],
  heading: "Durga Pujo - 2025",
  caption: "Days of celebration, colors, and cosmic rhythm.",
  price: "Ping Me!",
  archive: true
},

{
  urls: [
    "https://i.postimg.cc/3Jhhc7tR/8ff3ba6b-a951-4f35-8f44-46775fec393f.jpg",
    "https://i.postimg.cc/R0d4cY7F/39095dc8-d45d-4040-9228-c6bb932165c4.jpg",
    "https://i.postimg.cc/7PFhPpm8/486d86c0-fc18-44c5-a793-f18792043ef4.jpg",
    "https://i.postimg.cc/sg9rrL0c/e145f80c-76a6-434a-b73b-f2941f36d33c.jpg"
  ],
  heading: "Kumortuli Walk",
  caption: "Through the narrow lanes of clay and devotion — where faith takes shape, and the goddess slowly awakens in every touch of the artist’s hand.",
  price: "Ping Me!",
  archive: true
},

{ url: "https://i.postimg.cc/wvQ6sLVk/6e80f55a-118c-47ee-8a75-4fc6d247770f.jpg", heading: "Steel and Stillness", caption: " Where water frames the steel, I caught myself pausing—just long enough to feel something shift within.", price: "Ping Me!" },


	
	{ url: "https://i.postimg.cc/PrBF66c9/Carriage.jpg", heading: "Carriage", caption: "A blue train carriage, worn by time, with rust telling stories of forgotten journeys.", price: "Ping Me!" },
	
	
	
  
    { url: "https://i.postimg.cc/XYqVMjL1/Half-Ship.jpg", heading: "Like Tired Birds", caption: "In the golden hush of sunset, we return — we float back to our nests like tired birds.", price: "Ping Me!" },

  
	
	{ url: "https://i.postimg.cc/fRgvLZbn/The-Cost-of-a-Pause.jpg", heading: "The Cost of a Pause", caption: "If I let my feet rest now, my dreams may never wake again", price: "Ping Me!" },

    { url: "https://i.postimg.cc/TPfKHCZG/Doors.jpg", heading: "Choices", caption: "A hallway of choices, or a maze in disguise?", price: "Ping Me!" },

    { url: "https://i.postimg.cc/4d1Sc1Kg/Whispers-of-Kasol.jpg", heading: "Whispers of Kasol", caption: "In the hush of the mountains, I found the loudest truths.", price: "Ping Me!" },
    
    { url: "https://i.postimg.cc/L4LTybdJ/435dbbf6-10fe-46dd-b60a-58c727b311d3.jpg", heading: "Walls of History", caption: "Walking through Old Delhi feels like flipping through forgotten pages of The Discovery of India. As if every wall is a chapter.", price: "Ping Me!" },
    
    { url: "https://i.postimg.cc/vBkBWs4k/Broken-House.jpg", heading: "Broken Home", caption: "Even the strongest homes fall. So what are we really building?", price: "Ping Me!" },
    
    { url: "https://i.postimg.cc/52qZXK75/Moon-Shot.jpg", heading: "Shot of The Moon", caption: "A night where stars whisper and the moon shoots through the dark like a dream", price: "Ping Me!" },
    
    { url: "https://i.postimg.cc/YSrTYNZ5/Roddur.jpg", heading: "রোদ্দুর", caption: "দেখ তোর জন্যে; রোদ্দুর নামিয়ে, পর্দা টাঙানো; কোথাও মন নেই, সবচেয়ে দামী এই; কথা জানানো", price: "Ping Me!" },
    { url: "https://i.postimg.cc/85s3np1w/Sil.jpg", heading: "Silhouette", caption: "Where light meets shadow, and the day whispers its last goodbye", price: "Ping Me!" },
        
    { url: "https://i.postimg.cc/zBMQssvN/Troops-of-Occupation.jpg", heading: "Troops of Occupation", caption: "Troops of occupation, not of war but of waves", price: "Ping Me!" },
    { url: "https://i.postimg.cc/nVjg4hSh/Tulips.jpg", heading: "Tulips", caption: "Meet my new roommate. She doesn't talk much, but she vibes and breathes (really!)", price: "Ping Me!" },
    { url: "https://i.postimg.cc/PrbD91VV/Sunset.jpg", heading: "Sunset", caption: "Every sunset carries a quiet question: ending or beginning?", price: "Ping Me!" },
    { url: "https://i.postimg.cc/9Xs3K7w9/Hues.jpg", heading: "Glow", caption: "She glows in colors bold and bright, watches in silence, guards with light", price: "Ping Me!" },
    { url: "https://i.postimg.cc/265T82M5/Boho.jpg", heading: "A Path to Bohemia", caption: "Into the woods I go, chasing stillness and bohemian dreams", price: "Ping Me!" },
    { url: "https://i.postimg.cc/QNFGfbCs/Fishery.jpg", heading: "Livelihood", caption: "More than a livelihood — a silent pact between man and the tide", price: "Ping Me!" },
    { url: "https://i.postimg.cc/C167Zbps/Bridge.jpg", heading: "Bridges", caption: "Bridges do more than connect places—they carry dreams, burdens, and the weight of life itself", price: "Ping Me!" },
	
	
  { url: "https://i.postimg.cc/5Nvd0ChD/Quiet-Life-of-Simplicity.jpg", heading: "Simplicity of Life", caption: "Where life is simple, hearts are full. The fishermen, their craft, and the unspoken bond of the sea", price: "Ping Me!" },
    { url: "https://i.postimg.cc/Rh6dgw1m/Stromy-Sky.jpg", heading: "Quiet Storm", caption: "The tree bows low to the howling wind, not broken, but bending, soft and thin. The storm will pass, the skies will clear, and it will rise, alive and near.", price: "Ping Me!" },
    { url: "https://i.postimg.cc/ZYWzGgVb/Bhitoro-Bahire.jpg", heading: "Inside Out", caption: "Look at the world outside through the quiet wisdom of inside", price: "Ping Me!" },
    { url: "https://i.postimg.cc/T1z9FhQD/CT.jpg", heading: "Fall in Connecticut", caption: "Leaves turned, so did life. A new place, a new tide. Some names fade, some roads bend. Yet here I stand, I’ve grown", price: "Ping Me!" },
	{ url: "https://i.postimg.cc/fW1QDKrx/CT-2.jpg", heading: "In Transit with Time", caption: "Roads unknown, miles unplanned—some journeys take us forward, some take us back", price: "Ping Me!" },
	
	{ url: "https://i.postimg.cc/wMMxdWWC/CT-3-1.jpg", heading: "Whispers of the River", caption: "Still waters, quiet moments. The river speaks, but only to those who listen", price: "Ping Me!" },
  { url: "https://i.postimg.cc/k4nXTMWX/a35d2cbc-abbe-4e69-9dd6-2ad3fa721116.jpg", heading: "Crossing into Winter Dreams", caption: "Winter in New York. An unplanned road trip. Memories waiting to unfold", price: "Ping Me!" },
  { url: "https://i.postimg.cc/cLnHHbsZ/493102531-3018570868306634-3766763981279936291-n.jpg", heading: "What Remains", caption: "Even in decay, I whisper stories of life", price: "Ping Me!" },
  { url: "https://i.postimg.cc/YSBSmz9F/487096929-2987082291455492-4606161794075643103-n.jpg", heading: "Where Mornings Began", caption: "Still remember that day—sky bright, mood brighter, coffee in hand, and my favorite spot", price: "Ping Me!" },
	
	{ url: "https://i.postimg.cc/4yycFQpd/485914005-2979866498843738-7945283506514509307-n.jpg", heading: "Florida Glows", caption: "Golden hour hits different over a Florida lake!", price: "Ping Me!" },
  
  { url: "https://i.postimg.cc/DytGBs0v/IMG-1307.jpg", heading: "Sinking Sun", caption: "Painting dreams across the sky! ", price: "Ping Me!" },
	
  { url: "https://i.postimg.cc/sfH7GbRZ/da9f9b3d-c12f-4678-98ce-f19b4e8b3b9e.jpg", heading: "জানলা", caption: "আমার জানলা দিয়ে আমার পৃথিবী| সেই পৃথিবীতে বিকেলের রং হেমন্তে হলুদ| সেই পৃথিবীতে বাঁচব বলেই যুদ্ধ করি রোজ| একটুখানি বাঁচার জন্য হাজার আপোষ", price: "Ping Me!" },
    { url: "https://i.postimg.cc/hPJxLMSZ/4a7e292b-a6db-4d65-bd85-f71d016d95be.jpg", heading: "উঁকি || Peep", caption: "A quiet spectator—curiosity framed in stone and history", price: "Ping Me!" },
	
	{ url: "https://i.postimg.cc/mrzwpRNM/2929be06-87d7-4718-bffb-73bedde01027.jpg", heading: "Secrets Beyond the Iron", caption: "Behind that gate, there’s a mystery to find. An old ruined wall, hiding secrets of time", price: "Ping Me!" },
    { url: "https://i.postimg.cc/RhzXn8tt/488805514-2995977763899278-7539858318361082769-n.jpg", heading: "Ink & Iron", caption: "This printing machine in a bookstore is still fully functional, though not in operation at the moment. Where else could you find such marvels other than (College Street) Calcutta!", price: "Ping Me!" },
    { url: "https://i.postimg.cc/j5fM2KDK/Shadow-of-Justice.jpg", heading: "The Shadow of Justice", caption: "Justice stands eclipsed by its Shadow—Pompous and All-consuming", price: "Ping Me!" },
	{ url: "https://i.postimg.cc/L5BvkTkb/487676300-2987074498122938-7983797521335189285-n.jpg", heading: "Hope, Framed in Stone and Silence", caption: "Light at The End of The Tunnel", price: "Ping Me!" },
    { url: "https://i.postimg.cc/fWxHhz4f/70edf360-a886-4b39-98f3-1c8c3a3c151c.jpg", heading: "Light Trails", caption: " Scribbles of Lights Captured with Slow Shutters", price: "Ping Me!" },
    { url: "https://i.postimg.cc/0yHnCrmP/1.jpg", heading: "Sanctuary Beneath the Storm", caption: "Even as clouds gather, the bell waits—solemn, steady, eternal", price: "Ping Me!" },
	
	{ url: "https://i.postimg.cc/zGfpWTyx/2.jpg", heading: "Where Heaven Meets Earth", caption: "A sanctuary standing firm beneath restless skies—steadfast, sacred, still", price: "Ping Me!" },
    { url: "https://i.postimg.cc/3J1ndtxy/7080279f-a7d8-4d1d-882b-bc2f202afeb5.jpg", heading: "The Writings on The Wall", caption: "Messages lost and found—stories etched, rebellions whispered", price: "Ping Me!" },
    { url: "https://i.postimg.cc/NfBds3Bq/e47d1d30-eac9-455a-ae45-3f5079552062.jpg", heading: "এই আকাশ জানে, আমার প্রথম সব কিছু", caption: "এই আকাশই সাক্ষী—ভালোবাসার প্রথম চিঠি, প্রথম অপেক্ষা, প্রথম হারিয়ে যাওয়া", price: "Ping Me!" }
  ];

  const gallery = document.getElementById('gallery');
  const MAX_RETRIES = 2;
  const DELAY = 25; // 1 second between images

  
  let upcomingShown = 0;


  function createCard(item, imageUrl, failed = false) {
  const card = document.createElement('div');
  card.className = 'photo-card';

  let imgContent = '';

  // Case 1: carousel images
  if (item.urls && Array.isArray(item.urls)) {
    imgContent = `
      <div class="carousel-inner">
        ${item.urls
          .map(
            (u, i) =>
              `<div class="carousel-slide${i === 0 ? ' active' : ''}">
                 <img src="${u}" alt="${item.heading}" />
               </div>`
          )
          .join('')}
        <button class="carousel-btn prev">&#10094;</button>
        <button class="carousel-btn next">&#10095;</button>
      </div>
    `;
  }
  // Case 2: single image
  else {
    imgContent = failed
      ? `<div class="img-placeholder">Image failed to load</div>`
      : `<img src="${imageUrl || item.url}" alt="${item.heading}" />`;
  }

  card.innerHTML = `
    ${imgContent}
    <div class="photo-info">
      <h3>${item.heading}</h3>
      <p>${item.caption}</p>
      <p><strong>Want it on your wall?</strong> ${item.price || 'Ping Me!'}</p>
    </div>
  `;
  gallery.appendChild(card);

  // Hook up carousel controls if present
  if (item.urls && Array.isArray(item.urls)) {
    const slides = placeholder.querySelectorAll('.carousel-slide');
    const prev = placeholder.querySelector('.carousel-btn.prev');
    const next = placeholder.querySelector('.carousel-btn.next');
    const dots = placeholder.querySelectorAll('.carousel-dot'); // NEW
    let current = 0;

    function showSlide(n) {
      slides.forEach((s, i) => s.classList.toggle('active', i === n));
      dots.forEach((d, i) => d.classList.toggle('active', i === n)); // NEW
    }



    prev.addEventListener('click', () => {
      current = (current - 1 + slides.length) % slides.length;
      showSlide(current);
    });

    next.addEventListener('click', () => {
      current = (current + 1) % slides.length;
      showSlide(current);
    });

    // Dots click -> jump to slide
    dots.forEach((d, i) => {
      d.addEventListener('click', () => {
        current = i;
        console.log("Hello, " + i);
        showSlide(current);
      });
    });



  }
  }


function isVisibleNow(item) {
  if (!item.visibleFrom) return true; // no scheduling => always visible
  // Parse YYYY-MM-DD as a local date (midnight)
  const parts = item.visibleFrom.split('-').map(Number);
  if (parts.length !== 3 || parts.some(isNaN)) return true; // bad date => fail open
  const start = new Date(parts[0], parts[1] - 1, parts[2]); // local midnight
  const now = new Date();
  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  return today >= start;
}



function loadImage(index, retries = 0) {
  if (index >= data.length) return;

  const item = data[index];

  // If scheduled for the future, show a blurred preview with badge.
  // Only show up to 2 upcoming items in total.
  // If scheduled for the future, only show it if it's one of the two nearest upcoming items
  if (typeof isVisibleNow === 'function' && !isVisibleNow(item)) {
  if (!ALLOWED_UPCOMING.has(index)) { setTimeout(() => loadImage(index + 1), DELAY); return; }

  const primaryUrl = item.url || (Array.isArray(item.urls) && item.urls.length ? item.urls[0] : null);
  const placeholder = document.createElement('div');
  placeholder.className = 'photo-card comingsoon-card';
  placeholder.innerHTML = `
    <div class="image-container coming-soon">
      ${primaryUrl
        ? `<img src="${primaryUrl}" loading="lazy" alt="${item.heading || ''}">`
        : `<div class="img-placeholder"><div class="spinner"></div></div>`}
      <div class="watermark">© Bineet Ghosh</div>
      <div class="coming-badge">Coming Soon</div>
    </div>
    <div class="photo-info">
      <h3>${item.heading || ''}</h3>
      <p>${item.caption || ''}</p>
      ${item.visibleFrom ? `<p><em>Releases on ${item.visibleFrom}</em></p>` : ``}
    </div>
  `;
  gallery.appendChild(placeholder);
  setTimeout(() => loadImage(index + 1), DELAY);
  return;
}


  
    // If scheduled for the future, render a blurred Coming Soon card and continue
    if (!isVisibleNow(item)) {
      const primaryUrl = item.url || (Array.isArray(item.urls) && item.urls.length ? item.urls[0] : null);
      const placeholder = document.createElement('div');
      placeholder.className = 'photo-card comingsoon-card';
      placeholder.innerHTML = `
        <div class="image-container coming-soon">
          ${primaryUrl ? `<img src="${primaryUrl}" loading="lazy" alt="${item.heading || ''}" />` : `<div class="img-placeholder"><div class="spinner"></div></div>`}
          <div class="watermark">© Bineet Ghosh</div>
          <div class="coming-badge">COMING SOON</div>
        </div>
        <div class="photo-info">
          <h3>${item.heading || ''}</h3>
          <p>${item.caption || ''}</p>
          ${ item.visibleFrom ? `<p><em>Releases on ${item.visibleFrom}</em></p>` : '' }
        </div>
      `;
      gallery.appendChild(placeholder);
      setTimeout(() => loadImage(index + 1), DELAY);
      return;
    }
// primaryUrl: single-image items use item.url, carousel items use first item.urls entry
  const primaryUrl = item.url || (Array.isArray(item.urls) && item.urls.length ? item.urls[0] : null);

  if (!isVisibleNow(item)) {
  // Skip rendering this not-yet-live item and continue
  setTimeout(() => loadImage(index + 1), DELAY);
  return;
  }


  // create placeholder with spinner & info (same as before)
  const placeholder = document.createElement('div');
  placeholder.className = 'photo-card loading';
  placeholder.innerHTML = `
  <div class="img-placeholder">
    <div class="spinner"></div>
  </div>
  <div class="photo-info">
    <h3>${item.heading || ''}</h3>
    <p>${item.caption || ''}</p>
    <p><strong>Want it on your wall?</strong> ${item.price || 'Ping Me!'}</p>
    ${
      item.archive
        ? `<p><a href="archive.html" target="_blank" class="archive-link">View More in Archive →</a></p>`
        : ''
    }

  </div>
`;

  gallery.appendChild(placeholder);

  // if no usable URL at all, mark failed and continue
  if (!primaryUrl) {
    const failedNode = placeholder.querySelector('.img-placeholder');
    failedNode.innerHTML = '⚠️ No image URL.';
    failedNode.classList.add('failed-placeholder');
    placeholder.classList.add('failed');
    setTimeout(() => loadImage(index + 1), DELAY);
    return;
  }

  const testImg = new Image();

  testImg.onload = () => {
    // If this item is a carousel (multiple urls), build the carousel slides
    if (Array.isArray(item.urls) && item.urls.length > 0) {
      const slidesHtml = item.urls
      .map((u, i) => `<div class="carousel-slide${i === 0 ? ' active' : ''}"><img src="${u}" alt="${item.heading || ''}" /></div>`)
      .join('');
      const dotsHtml = item.urls
      .map((_, i) => `<button class="carousel-dot${i === 0 ? ' active' : ''}" aria-label="Go to slide ${i+1}"></button>`)
      .join('');


      placeholder.querySelector('.img-placeholder').outerHTML = `
      <div class="image-container carousel-container-inner">
        ${slidesHtml}
        <div class="watermark">© Bineet Ghosh</div>
        <button class="carousel-btn prev" aria-label="Prev">&#10094;</button>
        <button class="carousel-btn next" aria-label="Next">&#10095;</button>
        <div class="carousel-dots">${dotsHtml}</div>
      </div>
    `;

    } else {
      // Single-image card (keep original behavior)
      placeholder.querySelector('.img-placeholder').outerHTML = `
        <div class="image-container">
          <img src="${primaryUrl}" alt="${item.heading || ''}" />
          <div class="watermark">© Bineet Ghosh</div>
        </div>
      `;
    }

    placeholder.classList.remove('loading');

    // If carousel, hook up controls and swipe
    if (Array.isArray(item.urls) && item.urls.length > 1) {
      const slides = placeholder.querySelectorAll('.carousel-slide');
      const prev = placeholder.querySelector('.carousel-btn.prev');
      const next = placeholder.querySelector('.carousel-btn.next');
      const dots = placeholder.querySelectorAll('.carousel-dot'); // NEW
      let current = 0;

      function showSlide(n) {
        slides.forEach((s, i) => s.classList.toggle('active', i === n));
        dots.forEach((d, i) => d.classList.toggle('active', i === n)); // NEW
      }


      prev.addEventListener('click', () => {
        current = (current - 1 + slides.length) % slides.length;
        showSlide(current);
      });

      next.addEventListener('click', () => {
        current = (current + 1) % slides.length;
        showSlide(current);
      });

      // Simple pointer-based swipe (works on mouse and touch with pointer events)
      let startX = null;
      const container = placeholder.querySelector('.image-container');
      container.addEventListener('pointerdown', (e) => { startX = e.clientX; });
      container.addEventListener('pointerup', (e) => {
        if (startX === null) return;
        const dx = e.clientX - startX;
        if (Math.abs(dx) > 30) {
          if (dx < 0) current = (current + 1) % slides.length;
          else current = (current - 1 + slides.length) % slides.length;
          showSlide(current);
        }
        startX = null;
      });
    }

    // proceed to next item after slight delay
    setTimeout(() => loadImage(index + 1), DELAY);
  };

  testImg.onerror = () => {
    if (retries < MAX_RETRIES) {
      console.warn(`Retrying ${primaryUrl} (${retries + 1}/${MAX_RETRIES})`);
      setTimeout(() => {
        gallery.removeChild(placeholder);
        loadImage(index, retries + 1);
      }, 1000);
    } else {
      console.error(`Failed to load ${primaryUrl} after ${MAX_RETRIES} retries`);
      const failedNode = placeholder.querySelector('.img-placeholder');
      failedNode.innerHTML = '⚠️ Failed to load image.';
      failedNode.classList.add('failed-placeholder');
      placeholder.classList.add('failed');
      setTimeout(() => loadImage(index + 1), DELAY);
    }
  };

  // start preload on primaryUrl (first image)
  testImg.src = primaryUrl;
}


// --- pick the two nearest upcoming items by date ---
function parseYYYYMMDD(s) {
  const p = String(s).split('-').map(Number);
  if (p.length !== 3 || p.some(isNaN)) return null;
  return new Date(p[0], p[1] - 1, p[2]); // local midnight
}
const now_ = new Date();
const today_ = new Date(now_.getFullYear(), now_.getMonth(), now_.getDate());

const UPCOMING_MAX = 1;               // keep your cap (can reuse your existing const)
const _upcomingSorted = data
  .map((item, i) => ({ i, d: item.visibleFrom ? parseYYYYMMDD(item.visibleFrom) : null }))
  .filter(x => x.d && x.d > today_)    // strictly in the future
  .sort((a, b) => a.d - b.d)           // nearest first
  .slice(0, UPCOMING_MAX)
  .map(x => x.i);

const ALLOWED_UPCOMING = new Set(_upcomingSorted);



loadImage(0);


</script>










</body>
</html>
